{% extends "base.html" %}

{% block title %}ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø¹Ù…Ø§Ù„{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h2>ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø¹Ù…Ø§Ù„</h2>
    <button class="btn btn-primary" onclick="window.print()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©</button>
</div>

{% if workers %}
<div class="table-responsive">
    <table class="table table-striped">
        <thead class="table-dark">
            <tr>
                <th>Ø§Ù„Ø¹Ø§Ù…Ù„</th>
                <th>Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„</th>
                <th>Ø³Ø¹Ø± Ø§Ù„Ø³Ø§Ø¹Ø© ($)</th>
                <th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ ($)</th>
                <th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ (Ù„.Ù„)</th>
                <th>Ø§Ù„Ø³Ù„ÙØ©</th>
                <th>Ø§Ù„Ø±ØµÙŠØ¯ ($)</th>
                <th>Ø§Ù„Ø±ØµÙŠØ¯ (Ù„.Ù„)</th>
            </tr>
        </thead>
        <tbody>
            {% for worker in workers %}
            <tr>
                <td>{{ worker.name }}</td>
                <td>{{ "%.1f"|format(worker.total_hours) }}</td>
                <td>${{ "%.2f"|format(worker.hourly_rate_usd) }}</td>
                <td>${{ "%.2f"|format(worker.get_total_earnings_usd()) }}</td>
                <td>{{ "%.0f"|format(worker.get_total_earnings_lbp()) }} Ù„.Ù„</td>
                <td>${{ "%.2f"|format(worker.advance) }}</td>
                <td class="{% if worker.get_balance_usd() >= 0 %}text-success fw-bold{% else %}text-danger fw-bold{% endif %}">
                    ${{ "%.2f"|format(worker.get_balance_usd()) }}
                </td>
                <td class="{% if worker.get_balance_lbp() >= 0 %}text-success fw-bold{% else %}text-danger fw-bold{% endif %}">
                    {{ "%.0f"|format(worker.get_balance_lbp()) }} Ù„.Ù„
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="alert alert-info">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù…Ø§Ù„</div>
{% endif %}
{% endblock %}
